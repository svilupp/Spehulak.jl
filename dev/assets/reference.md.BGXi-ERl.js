import{_ as e,c as s,o as a,a7 as i}from"./chunks/framework.Ruk8D_Vm.js";const g=JSON.parse('{"title":"Reference for Spehulak.jl","description":"","frontmatter":{},"headers":[],"relativePath":"reference.md","filePath":"reference.md","lastUpdated":null}'),t={name:"reference.md"},l=i(`<h1 id="Reference-for-Spehulak.jl" tabindex="-1">Reference for Spehulak.jl <a class="header-anchor" href="#Reference-for-Spehulak.jl" aria-label="Permalink to &quot;Reference for Spehulak.jl {#Reference-for-Spehulak.jl}&quot;">​</a></h1><ul><li><a href="#Spehulak.SnowConversation"><code>Spehulak.SnowConversation</code></a></li><li><a href="#Spehulak.SnowMessage"><code>Spehulak.SnowMessage</code></a></li><li><a href="#Spehulak.SnowRAG"><code>Spehulak.SnowRAG</code></a></li><li><a href="#Spehulak.launch"><code>Spehulak.launch</code></a></li><li><a href="#Spehulak.load_object-Tuple{String}"><code>Spehulak.load_object</code></a></li><li><a href="#Spehulak.load_objects_from_dir-Tuple{String}"><code>Spehulak.load_objects_from_dir</code></a></li><li><a href="#Spehulak.msg2snow-Tuple{AbstractVector{&lt;:PromptingTools.AbstractMessage}}"><code>Spehulak.msg2snow</code></a></li><li><a href="#Spehulak.msg2snow-Tuple{PromptingTools.AbstractMessage}"><code>Spehulak.msg2snow</code></a></li><li><a href="#Spehulak.msg2snow-Tuple{PromptingTools.Experimental.RAGTools.RAGResult}"><code>Spehulak.msg2snow</code></a></li><li><a href="#Spehulak.msg2snow-Tuple{PromptingTools.AbstractTracerMessage}"><code>Spehulak.msg2snow</code></a></li></ul><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.SnowConversation" href="#Spehulak.SnowConversation">#</a> <b><u>Spehulak.SnowConversation</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SnowConversation</span></span></code></pre></div><p>Container for conversations (vector of <code>SnowMessage</code>) with some extra fields for metadata.</p><p><strong>Fields</strong></p><ul><li><p><code>id</code>: Unique identifier for the conversation</p></li><li><p><code>title</code>: Title of the conversation, eg, the path of the file</p></li><li><p><code>class</code>: CSS class for the conversation</p></li><li><p><code>meta</code>: Metadata for the conversation</p></li><li><p><code>messages</code>: Vector of <code>SnowMessage</code></p></li></ul><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/conversation.jl#L16-L28" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.SnowMessage" href="#Spehulak.SnowMessage">#</a> <b><u>Spehulak.SnowMessage</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SnowMessage</span></span></code></pre></div><p>Type designed for displaying the conversation in Stipple.</p><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/conversation.jl#L1-L6" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.SnowRAG" href="#Spehulak.SnowRAG">#</a> <b><u>Spehulak.SnowRAG</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SnowRAG</span></span></code></pre></div><p>Type designed for displaying the RAG conversation in Spehulak.</p><p><strong>Fields</strong></p><ul><li><p><code>conv_main</code>: The main conversation (what user sees)</p></li><li><p><code>conv_answer</code>: The answer conversation (default LLM chain)</p></li><li><p><code>conv_final_answer</code>: The final answer conversation (if we used <code>refine!</code> functionality)</p></li><li><p><code>has_refined_answer</code>: Whether the answer has been refined (<code>refine!</code> functionality)</p></li><li><p><code>context</code>: The context used to answer the question</p></li><li><p><code>sources</code>: The sources used to answer the question</p></li><li><p><code>emb_stats</code>: The embedding candidates statistics (to understand retrieval performance)</p></li><li><p><code>rerank_stats</code>: The reranking candidates statistics (to understand reranking performance)</p></li><li><p><code>meta</code>: The metadata from the first message (if it&#39;s a tracer message)</p></li></ul><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/conversation.jl#L37-L53" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.launch" href="#Spehulak.launch">#</a> <b><u>Spehulak.launch</u></b> — <i>Function</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Launches Spehulak in the browser.</p><p>Defaults to: <code>http://127.0.0.1:9001</code>. This is a convenience wrapper around <code>Genie.up</code>, to customize the server configuration use <code>Genie.up()</code> and <code>Genie.config</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>port::Int = 9001</code>: The port to launch the server on.</p></li><li><p><code>host::String = &quot;127.0.0.1&quot;</code>: The host to launch the server on.</p></li><li><p><code>async::Bool = true</code>: Whether to launch the server asynchronously, ie, in the background.</p></li></ul><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/server.jl#L1-L15" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.load_object-Tuple{String}" href="#Spehulak.load_object-Tuple{String}">#</a> <b><u>Spehulak.load_object</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load_object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Loads a conversation or RAGResult from a JSON file. Loads in try-catch loop for safety.</p><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/utils.jl#L7-L11" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.load_objects_from_dir-Tuple{String}" href="#Spehulak.load_objects_from_dir-Tuple{String}">#</a> <b><u>Spehulak.load_objects_from_dir</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load_objects_from_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Loads all conversations and RAGResults from a directory and its sub-directories</p><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/utils.jl#L40-L44" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.msg2snow-Tuple{AbstractVector{&lt;:PromptingTools.AbstractMessage}}" href="#Spehulak.msg2snow-Tuple{AbstractVector{&lt;:PromptingTools.AbstractMessage}}">#</a> <b><u>Spehulak.msg2snow</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">msg2snow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:PT.AbstractMessage}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Transforms a vector of messages into a <code>SnowConversation</code> that Spehulak understands.</p><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/conversation.jl#L136-L140" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.msg2snow-Tuple{PromptingTools.AbstractMessage}" href="#Spehulak.msg2snow-Tuple{PromptingTools.AbstractMessage}">#</a> <b><u>Spehulak.msg2snow</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">msg2snow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(msg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PT.AbstractMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; kwargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Transforms a PromptingTools message into a <code>SnowMessage</code> that Spehulak understands.</p><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/conversation.jl#L78-L82" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.msg2snow-Tuple{PromptingTools.AbstractTracerMessage}" href="#Spehulak.msg2snow-Tuple{PromptingTools.AbstractTracerMessage}">#</a> <b><u>Spehulak.msg2snow</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">msg2snow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(msg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PT.AbstractTracerMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; kwargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Transforms a Tracer message into a <code>SnowMessage</code> that Spehulak understands.</p><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/conversation.jl#L101-L105" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Spehulak.msg2snow-Tuple{PromptingTools.Experimental.RAGTools.RAGResult}" href="#Spehulak.msg2snow-Tuple{PromptingTools.Experimental.RAGTools.RAGResult}">#</a> <b><u>Spehulak.msg2snow</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">msg2snow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rag</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RT.RAGResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Transforms a <code>RAGResult</code> into a <code>SnowRAG</code> that Spehulak understands.</p><p><a href="https://github.com/svilupp/Spehulak.jl/blob/79191fde97fd83da684bde965c4b13d271ffc000/src/conversation.jl#L155-L159" target="_blank" rel="noreferrer">source</a></p></div><br>`,22),o=[l];function r(n,p,d,h,c,k){return a(),s("div",null,o)}const b=e(t,[["render",r]]);export{g as __pageData,b as default};
